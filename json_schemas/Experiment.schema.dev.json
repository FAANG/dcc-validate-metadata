{
    "$schema": "http://json-schema.org/draft-04/schema#",
    "description": "A representation of a Blueprint Experiment XML",
    "type": "object",
    "properties": {
	"id": {
	    "type": "string",
	    "pattern": "^ERX",
	     "minLength": 4
	},
	"entity_type": {
	    "type": "string",
	    "enum": ["EXPERIMENT","SAMPLE","RUN","STUDY"]
	    
	},
	 "attributes": {
		"type": "object",
		"properties":
    	{
			"SELECTOR":
			{
				"oneOf":
				[
					{
						"properties":
						{
			    			"ENA-SUBMISSION-TOOL": {"$ref":"#/definitions/ENA-SUBMISSION-TOOL"},
			    			"EXPERIMENT_TYPE": {"$ref":"#/definitions/EXPERIMENT_TYPE"},
			    			"EXTRACTION_PROTOCOL": {"type": "string"},
						    "EXTRACTION_PROTOCOL_MRNA_ENRICHMENT": {"type": "string"},
						    "EXTRACTION_PROTOCOL_FRAGMENTATION": {"type": "string"},
						    "MRNA_PREPARATION_INITIAL_MRNA_QNTY": {"type": "string"},
						    "MRNA_PREPARATION_FRAGMENT_SIZE_RANGE": {"type": "string"},
						    "RNA_PREPARATION_5'_RNA_ADAPTER_SEQUENCE": {"type": "string"},
						    "RNA_PREPARATION_3'_RNA_ADAPTER_SEQUENCE": {"type": "string"},
						    "RNA_PREPARATION_REVERSE_TRANSCRIPTION_PRIMER_SEQUENCE": {"type": "string"},
						    "RNA_PREPARATION_5'_DEPHOSPHORYLATION": {"type": "string"},
						    "RNA_PREPARATION_5'_PHOSPHORYLATION": {"type": "string"},
						    "RNA_PREPARATION_3'_RNA ADAPTER_LIGATION_PROTOCOL": {"type": "string"},
						    "RNA_PREPARATION_5'_RNA_ADAPTER_LIGATION_PROTOCOL": {"type": "string"},
						    "RNA_PREPARATION_REVERSE_TRANSCRIPTION_PROTOCOL": {"type": "string"},
						    "LIBRARY_GENERATION_PCR_TEMPLATE_CONC": {"type": "string"},
						    "LIBRARY_GENERATION_PCR_POLYMERASE_TYPE": {"type": "string"},
						    "LIBRARY_GENERATION_PCR_THERMOCYCLING_PROGRAM": {"type": "string"},
						    "LIBRARY_GENERATION_PCR_NUMBER_CYCLES": {"type": "string"},
						    "LIBRARY_GENERATION_PCR_F_PRIMER_": {"type": "string"},
						    "LIBRARY_GENERATION_PCR_R_PRIMER_SEQUENCE": {"type": "string"},
						    "LIBRARY_GENERATION_PCR_PRIMER_CONC": {"type": "string"},
						    "LIBRARY_GENERATION_PCR_PRODUCT_ISOLATION_PROTOCOL":{"type": "string"}
          				},
						"required":["EXPERIMENT_TYPE", "EXTRACTION_PROTOCOL" ],
						"additionalProperties":true
					}
				]
			}
		},
		"additionalProperties":false,
		"required":["SELECTOR"] 
	}
	},
	"required": ["id","entity_type","attributes"],
	
	"definitions": {
		"ENA-SUBMISSION-TOOL": {
			"type": "string",
			"enum": ["SRA-Webin"]
		},
		"EXPERIMENT_TYPE": {
			"type": "string",
			"enum": ["Chromatin Accessibility","DNA Methylation","Histone H3K27ac","Histone H3K4me1","Histone H3K4me3",
 			   "Histone H3K9me3","Histone H3K9ac","Histone H3K27me3", "Histone H3K36me3","Ribo Minus RNA sequencing"]
		}
	}
}		
